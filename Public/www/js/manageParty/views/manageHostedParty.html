<ion-view class="manageParty">
  <div class="bar managePartyHeader">
    <h1>Let's Manage Parties</h1>
  </div>
  <ion-content class="managePartyContent" ng-init="loadOne()">
    <ion-list>
      <ion-item>
        <div ng-show="!edit" class="item-icon-right manageItem">
            {{oneParty.partyName}}
            <button
              ng-hide="edit"
              ng-click="edit = true"
              class="button-icon icon ion-ios-compose-outline">
            </button>
        </div>
        <div ng-show="edit" class="item-icon-right manageItem">
          <input
          class="inputField"
            type="text"
            ng-model="partyName"
            ng-change='getNameValue(partyName)'
            placeholder="{{oneParty.partyName}}">
            <button
              ng-click="edit = false; editData(partyName, description, local, themeVal, doggy, parking, partyDate);"
              class="button-icon icon ion-ios-checkmark">
            </button>
        </div>
      </ion-item>
      <ion-item>
        <div ng-show="!edit" class="item-icon-right manageItem item-text-wrap">
            <strong>Description: <br></strong>{{oneParty.description}}
            <button
              ng-hide="edit"
              ng-click="edit = true"
              class="button-icon icon ion-ios-compose-outline">
            </button>
        </div>
        <div ng-show="edit" class="item-icon-right manageItem">
          <input
            type="text"
            ng-model="description"
            ng-change='getDescriptionValue(description)'
            placeholder="{{oneParty.description}}">
            <button
              ng-click="edit = false; editData(partyName, description, local, themeVal, doggy, parking, partyDate);"
              class="button-icon icon ion-ios-checkmark">
            </button>
        </div>
      </ion-item>
      <ion-item>
        <div ng-show="!edit" class="item-icon-right manageItem">
            <strong>Where The Party At? <br></strong>{{oneParty.local}}
            <button
              ng-hide="edit"
              ng-click="edit = true"
              class="button-icon icon ion-ios-compose-outline">
            </button>
        </div>
        <div ng-show="edit" class="item-icon-right manageItem">
          <ion-google-place placeholder= "Enter an Address, Apt#, and ZIP" ng-model="local"></ion-google-place>
            <button
              ng-click="edit = false; editData(partyName, description, local.formatted_address, themeVal, doggy, parking, partyDate);"
              class="button-icon icon ion-ios-checkmark">
            </button>
        </div>
      </ion-item>
      <ion-item>
        <div ng-show="!edit" class="item-icon-right manageItem">
            <strong>When The Party At? <br></strong>{{oneParty.partyDate | date: 'short'}}
            <button
              ng-hide="edit"
              ng-click="edit = true"
              class="button-icon icon ion-ios-compose-outline">
            </button>
        </div>
        <div ng-show="edit" class="item-icon-right manageItem">
          <input placeholder= "Pick a Date and Time" ng-model="partyDate" type="datetime-local">
            <button
              ng-click="edit = false; editData(partyName, description, local, themeVal, doggy, parking, partyDate);"
              class="button-icon icon ion-ios-checkmark">
            </button>
        </div>
      </ion-item>
      <ion-item>
        <div ng-show="!edit" class="item-icon-right manageItem">
          <strong>Parking: <br></strong>{{oneParty.parking}}
          <button
            ng-hide="edit"
            ng-click="edit = true"
            class="button-icon icon ion-ios-compose-outline">
          </button>
        </div>
        <div ng-show="edit" class="item-icon-right manageItem">
          <strong>Parking: <br></strong>
          <select ng-model="parking" ng-change='getParking(parking)'>
            <option value="Valet">Valet</option>
            <option value="On Site">On Site</option>
            <option value="Off Site">Off Site</option>
          </select>
          <button
            ng-click="edit = false; editData(partyName, description, local, themeVal, doggy, parking, partyDate);"
            class="button-icon icon ion-ios-checkmark">
          </button>
        </div>
      </ion-item>
      <!-- <ion-toggle
        ng-click="themeCheck = !themeCheck"
        ng-checked="oneParty.themeCheck"
        toggle-class="toggle-calm">
        <div
          ng-model="themeCheck"
          ng-class="themeCheck ? 'theme' : 'noTheme'">
          <strong>
            Themed Party?
          </strong>
        </div>
      </ion-toggle>
      <div ng-show="themeCheck" class="item">
        <input ng-model="themeVal" type="text"  placeholder="{{oneParty.theme}}">
      </div>
      <ion-toggle
        ng-checked="oneParty.byob"
        ng-click="byobManageCheck = !byobManageCheck; getByob(byobManageCheck); editData(partyName, description, local, themeVal, doggy, parking, partyDate)"
        ng-model="doggy"
        toggle-class="toggle-calm">
        <div
          ng-model="byobManageCheck"
          ng-class="byobManageCheck ? 'byobManage' : 'suppliedManage'">
          <strong>
            BYOB
          </strong>
        </div>
      </ion-toggle> -->
      <button
        ng-click="goToManageFavor()"
        class="button button-full manageButton button-assertive">
        Manage Favors
      </button>
      <button
        ng-click="goToManageInvites()"
        class="button inviteButton button-full button-royal">
        Manage Invites
      </button>
    </ion-list>
  </ion-content>
</ion-view>
