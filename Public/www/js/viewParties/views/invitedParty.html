<ion-view class="viewParties">
  <ion-nav-bar>
  </ion-nav-bar>
  <div class="bar bar-header">
    <div class="invitedPartiesHeader">
      <h1 class= "title-text-wrap"><span class="invitedPartiesTextViewHeader">{{invPartyOne.partyName}}</span></h1>
      <h1 class= "title-text-wrap"><span class="invitedPartiesTextViewHeader">@</span></h1>
      <h1 class= "title-text-wrap"><span class="invitedPartiesTextViewHeader">{{invPartyOne.partyDate | date: 'short'}}</span></h1>
    </div>
  </div>
  <ion-content ng-init="loadOneInvParty();loadOneFavor()">
  <br>
  <div class="button-bar">
    <button
      ng-click="rsvpShow()"
      class="button button-energized button-small">RSVP</button>
    <button class="button button-energized button-small">{{invPartyOne.byob}}</button>
    <button ng-click="parkingButton(invPartyOne.parking)" class="button button-energized button-small">Park</button>
  </div>
      <ion-item class="card">
        <div class= "invitePartyCard item item-text-wrap item">
          <h2>{{invPartyOne.local}}</h2>
          <br>
          <h3>{{invPartyOne.partyDate | date: 'short'}}</h3>
          <p>{{invPartyOne.description}}</p>
        </div>
      <div class="row center">
        <div class="col">
            <h2>{{invPartyOne.stretchName}}</h2>
            <progress max="{{invPartyOne.stretchGoal}}" value="{{invPartyOne.stretchStatus}}"></progress>
            <button
              ng-show="chipIn"
              ng-click="showStretchInput()">
              Chip In!
            </button>
            <input type="number" placeholder="You Feelin' Generous?" ng-model="stretchValue" ng-show="stretchInput">
            <button
              ng-show="stretchInput"
              ng-click="pledgeStretch(stretchValue)">
              Chip In!
            </button>
        </div>
      </div>
      <!-- <div
        ng-click="rsvpShowMain()"
        ng-show="rsvpShowBool">
        <button ng-click="rsvp('Yes')" class="button button-small button-energized">Yes</button>
        <button ng-click="rsvp('No')" class="button button-assertive">No</button>
        <button ng-click="rsvp('Maybe')" class="button button-royal">Maybe</button>
      </div> -->

      <div>
        <ion-item class="item-text-wrap">
          <div ng-hide="invPartyOne.themeCheck" class="noTheme"><p>This <strong>{{invPartyOne.partyType}} Party</strong>  {{invPartyOne.theme}} </p></div>
          <div ng-show="invPartyOne.themeCheck"><p>This <strong>{{invPartyOne.partyType}} Party</strong> party has a theme: <strong>{{invPartyOne.theme}}</strong></p></div>
        </ion-item>
      </div>
    </ion-list>
    <div class="button-bar">
      <button
        class="button button-small button-energized"
        ng-click="showFavor()">
        Favors
      </button>
      <button
        ng-click="showInvite();loadInvitedPeople();"
        class="button button-small button-energized">
        Invites
      </button>
    </div>
    <ion-list
      ng-model="showFavorVar"
      ng-show="showFavorVar">

      <ion-item class="item">
        <h2><strong>Help out the party - pick a favor!</strong></h2>
      </ion-item>
      <ion-item
        ng-repeat="favor in onePartyFavor"
        ng-model="favor">
        <div
          ng-click="showFavorConfirm(favor)"
          class="item favorUnclaimed"
          ng-show= "favor.claimed != true">
          <h3>{{favor.favor.favorName}}</h3>
        </div>
        <div
          class="item favorClaimed"
          ng-show="favor.claimed == true"
          ng-click="showFavorUnclaim(favor)">
          <h2><strong>{{favor.favor.favorName}}</strong> Claimed by: {{favor.user.username}}</h2>
        </div>
      </ion-item>
    </ion-list>
    <ion-list
      ng-model="showInviteVar"
      ng-show="showInviteVar"
      class="list card">
      <ion-item>
        <h2><strong>Who's Coming To This Party</strong></h2>
      </ion-item>
      <ion-item
        ng-repeat="invite in inviteList"
        ng-model="invite">
        <div
          class="item"
          ng-click="">
          <h2>{{invite.name}}</h2>
          <h2>{{invite.rsvpStatus}}</h2>
        </div>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
